# 1. 连接AWS

1. 右上角“连接”

   - ![image-20220319182407911](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20220319182407911.png)

   - > 用户名：ec2-use
     >
     > 公钥：saas.pem

2. 重置root密码

   - https://blog.csdn.net/qiange520/article/details/82464188

   - ```shell
     sudo passwd root
     ```

   - > pwd: saaspreka

3. 切换到root帐号

   - ```sh
     su
     ```

4. 编辑 ssh 安全协议

   - https://docs.aws.amazon.com/zh_cn/AWSEC2/latest/UserGuide/authorizing-access-to-an-instance.html#add-rule-authorize-access
   - ![image-20220215194612975](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20220215194612975.png)

# 2. 安装MySQL

- [How To Install MySQL 8 on Amazon Linux 2](https://techviewleo.com/how-to-install-mysql-8-on-amazon-linux-2/)

> 1. 安装mysql8.0库：
>    1. sudo yum install https://dev.mysql.com/get/mysql80-community-release-el7-5.noarch.rpm
> 2. 查看yum库：
>    1. sudo yum repolist
> 3. 安装
>    1. amazon-linux-extras install epel -y
>    2. sudo yum -y install mysql-community-server
>       1. 核心包：MySQL server: **mysql-community-server**
>       2. MySQL client: **mysql-community-client**
> 4. 开始运行
>    1. sudo systemctl enable --now mysqld
> 5. 查看状态
>    1. systemctl status mysqld
> 6. 临时密码
>    1. grep 'temporary password' /var/log/mysqld.log
>    2. j5ZEGRGipq-a
> 7. 初始化
>    1. mysql_secure_installation -p
>    2. Saas0preka!
>    3. 全部选择 “y”
> 8. 更改密码
>    1. mysql -uroot -p
>    2. mysql> ALTER USER 'root'@'localhost' IDENTIFIED BY 'MyNewStrongP@ssw0d!';
> 9. The Password Policy is requires:
>    - At least one uppercase letter
>    - At least one lowercase letter
>    - At least one digit
>    - At least one special character
>    - Total password length is at least 8 characters.
> 10. 进入 mysql
>     1. mysql -uroot -p
> 11. 所有ip可以访问
>     1. [Host XXX is not allowed to connect to this MySQL server](https://blog.csdn.net/h985161183/article/details/82218710)
>        1. mysql -u root -p
>        2. use mysql;
>        3. select host from user where user='root';
>        4. update user set host = '%' where user ='root';
>        5. flush privileges;
>     2. allowPublicKeyRetrieval
>        1. ![image-20220319191915632](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20220319191915632.png)









- MySQL 权限：`grant all on saas.* to 'root'@'%' identified by 'root' with grant option;`

